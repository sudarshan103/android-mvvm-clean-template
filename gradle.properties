# Project-wide Gradle settings.
# IDE (e.g. Android Studio) users:
# Gradle settings configured through the IDE *will override*
# any settings specified in this file.
# For more details on how to configure your build environment visit
# http://www.gradle.org/docs/current/userguide/build_environment.html

# ===========================
# Performance Optimizations
# ===========================

# Specifies the JVM arguments used for the daemon process.
# Conservative settings to prevent OS freezing on 15GB RAM / 4-core system
# Total allocation: 2.5GB Gradle + 1.5GB Kotlin + 2GB IDE = 6GB (leaves 9GB for OS)
org.gradle.jvmargs=-Xmx2560m -Xms512m -XX:MaxMetaspaceSize=768m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8

# Enable Gradle Daemon for faster builds
org.gradle.daemon=true

# Enable parallel builds cautiously (use only some CPU cores)
org.gradle.parallel=true

# Disable configuration caching - can cause memory spikes and issues
org.gradle.configuration-cache=false

# Enable Gradle build cache for reusing outputs
org.gradle.caching=true

# Conservative worker limit - leaves 2 cores for OS (4 cores total - 2 for OS)
# This prevents system freeze during compilation
org.gradle.workers.max=2

# Enable incremental compilation for Kotlin
kotlin.incremental=true

# Enable incremental annotation processing
kapt.incremental.apt=true

# Use kotlin daemon for compilation
kotlin.daemon.enabled=true

# Set Kotlin daemon JVM args - reduced to prevent memory issues
kotlin.daemon.jvmargs=-Xmx1536m -Xms256m

# ===========================
# Android Optimizations
# ===========================

# AndroidX package structure
android.useAndroidX=true

# Kotlin code style for this project
kotlin.code.style=official

# Enables namespacing of each library's R class
android.nonTransitiveRClass=true

# Enable non-transitive R classes
android.nonFinalResIds=true

# Enable R8 full mode for better optimization
android.enableR8.fullMode=true

# ===========================
# KSP Optimizations
# ===========================

# Enable incremental processing for KSP
ksp.incremental=true

# Allow KSP to cache
ksp.incremental.log=true

# Use KSP2 for better performance (if available)
ksp.useKSP2=false

# ===========================
# Build Optimizations
# ===========================

# Disable unnecessary features to speed up builds
# Disable BuildConfig generation if not needed
android.defaults.buildfeatures.buildconfig=false

# Disable AIDL if not used
android.defaults.buildfeatures.aidl=false

# Disable RenderScript if not used
android.defaults.buildfeatures.renderscipt=false

# Disable ResValues if not used
android.defaults.buildfeatures.resvalues=false

# Disable Shaders if not used
android.defaults.buildfeatures.shaders=false
